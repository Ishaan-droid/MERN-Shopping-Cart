(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return _e}));var n,a,c=r(1),s=r.n(c),o=r(21),i=r.n(o),u=r(17),l=r(13),d=r(66),j=r(82),b={HOT_SELLING_PRODUCTS:"HOT_SELLING_PRODUCTS",HOT_SELLING_PRODUCTS_ERROR:"HOT_SELLING_PRODUCTS_ERROR",DISCOUNT_ITEMS:"DISCOUNT_ITEMS",DISCOUNT_ITEMS_ERROR:"DISCOUNT_ITEMS_ERROR"},O={status:"",products:[],productsError:[!1,""],spinner:!0,discountProducts:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.HOT_SELLING_PRODUCTS:return{products:t.payload.products,status:t.payload.status,spinner:!1};case b.HOT_SELLING_PRODUCTS_ERROR:return{productsError:[!0,t.payload.message],status:"Fail",spinner:!1};case b.DISCOUNT_ITEMS:return{discountProducts:t.payload.data,status:t.payload.status,spinner:!1};case b.DISCOUNT_ITEMS_ERROR:return{productsError:[!0,t.payload.message],status:"Fail",spinner:!1};default:return e}},m=r(95),h=r(9),x={ALL_PRODUCTS:"ALL_PRODUCTS",ALL_PRODUCTS_ERROR:"ALL_PRODUCTS_ERROR",ONE_PRODUCT:"ONE_PRODUCT",ONE_PRODUCT_ERROR:"ONE_PRODUCT_ERROR",NEW_RATING:"NEW_RATING",SUBMIT_REVIEW:"SUBMIT_REVIEW",SUBMIT_REVIEW_ERROR:"SUBMIT_REVIEW_ERROR",ALL_REVIEWS:"ALL_REVIEWS",CART:"CART",DELETE_ITEM_FROM_CART:"DELETE_ITEM_FROM_CART"},f={allProducts:[],status:"",allProductsError:[!1,""],spinner:!0,oneProduct:[],oneProductError:[!1,""],rating:void 0,userReview:{},userReviewError:"",allReviews:[],cart:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.ALL_PRODUCTS:return Object(h.a)(Object(h.a)({},e),{},{allProducts:t.payload.data,status:t.payload.status,spinner:!1});case x.ALL_PRODUCTS_ERROR:return{status:"Fail",allProductsError:[!0,t.payload.message],spinner:!1};case x.ONE_PRODUCT:return Object(h.a)(Object(h.a)({},e),{},{oneProduct:t.payload.data,status:t.payload.status,spinner:!1});case x.ONE_PRODUCT_ERROR:return{status:"Fail",oneProductError:[!0,t.payload.message],spinner:!1};case x.NEW_RATING:return Object(h.a)(Object(h.a)({},e),{},{rating:t.newRating});case x.SUBMIT_REVIEW:return Object(h.a)(Object(h.a)({},e),{},{userReview:t.payload.data,status:t.payload.status});case x.SUBMIT_REVIEW_ERROR:return Object(h.a)(Object(h.a)({},e),{},{userReviewError:t.payload.message,status:t.payload.status});case x.ALL_REVIEWS:return Object(h.a)(Object(h.a)({},e),{},{allReviews:t.payload.reviews,status:t.payload.status});case x.CART:return Object(h.a)(Object(h.a)({},e),{},{cart:e.cart.concat({productId:t.payload.productId,title:t.payload.title,summary:t.payload.summary,stock:t.payload.stock,currentPrice:t.payload.currentPrice,image:t.payload.image})});case x.DELETE_ITEM_FROM_CART:return Object(h.a)(Object(h.a)({},e),{},{cart:Object(m.a)(t.payload.items)});default:return e}},v={LOGIN:"LOGIN",LOGIN_ERROR:"LOGIN_ERROR",CLOSE_MODAL:"CLOSE_MODAL",SHOW_MODAL:"SHOW_MODAL",LOADER:"LOADER",LOGGED_IN_USER:"LOGGED_IN_USER",LOGGED_IN_USER_ERROR:"LOGGED_IN_USER_ERROR"},R={userData:{},loginError:"",status:"",wait:!0,loader:!1,modalClose:!1,modalOpen:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.LOGIN:return Object(h.a)(Object(h.a)({},e),{},{userData:t.userData,status:t.status,loader:!1});case v.LOGGED_IN_USER:return{userData:t.userData,status:t.status};case v.LOGIN_ERROR:return Object(h.a)(Object(h.a)({},e),{},{loginError:t.payload.message,status:t.payload.status,loader:!1});case v.CLOSE_MODAL:return Object(h.a)(Object(h.a)({},e),{},{modalOpen:!1,modalClose:!0});case v.SHOW_MODAL:return Object(h.a)(Object(h.a)({},e),{},{modalOpen:!0,modalClose:!1});case v.LOADER:return{loader:!0};default:return e}},E=(r(104),r(11)),N=r(96),w=r(2),_=["component","status"],I=Object(l.b)((function(e){return{status:e.authReducer.status}}),null)((function(e){var t=e.component,r=e.status,n=Object(N.a)(e,_);return console.log(r),Object(w.jsx)(E.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return"Success"===r?Object(w.jsx)(t,Object(h.a)({},e)):Object(w.jsx)(E.a,{to:"/"})}}))})),T=r(8),C=r.n(T),S=r(14),P=r(23),L=r.n(P),k=r(57),D=r(58),U=r(144),A=r(145),M=r(86),G=r(140),V=r(51),F=r(88),W=r(70),H=D.a.div(n||(n=Object(k.a)(["\n  .nav-brand a {\n    color: var(--main-nav-color);\n    &:hover {\n      color: var(--secondary-nav-color);\n    }\n  }\n  .navbar-nav .nav-link {\n    color: var(--main-nav-color);\n    &:hover {\n      color: var(--secondary-nav-color);\n    }\n  }\n  .navbar-nav .nav-dropdown {\n    color: var(--main-dropdown-color);\n  }\n  .icon-format {\n    margin-right: 10px;\n    margin-bottom: 6px;\n  }\n"]))),B=Object(l.b)((function(e){return{status:e.authReducer.status,userData:e.authReducer.userData}}),null)((function(e){var t=e.status,r=e.userData,n=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/v1/mern-shopping-cart/users/logout-user");case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(s.a.Fragment,{children:Object(w.jsx)(H,{children:Object(w.jsxs)(U.a,{collapseOnSelect:!0,expand:"md",bg:"dark",className:"my-container",children:[Object(w.jsx)(U.a.Brand,{className:"nav-brand",children:Object(w.jsxs)(u.b,{to:"/",style:{textDecoration:"none"},children:[Object(w.jsx)(V.b,{className:"icon-format"}),"Mern Cart"]})}),Object(w.jsx)(U.a.Toggle,{"aria-controls":"responsive-navbar-nav",style:{backgroundColor:"var(--secondary-nav-color)"}}),Object(w.jsx)(U.a.Collapse,{id:"responsive-navbar-nav",children:Object(w.jsxs)(A.a,{className:"ml-auto",children:[Object(w.jsx)(M.a,{children:"Success"===t?Object(w.jsxs)(u.b,{to:"/my-profile",className:"nav-link",children:[Object(w.jsx)(W.a,{className:"icon-format"}),r.name.split(" ")[0]]}):Object(w.jsxs)(u.b,{to:"/login",className:"nav-link",children:[Object(w.jsx)(W.a,{className:"icon-format"}),"Login"]})}),Object(w.jsxs)(G.a,{title:"Products",id:"collasible-nav-dropdown",children:[Object(w.jsx)(G.a.Item,{children:Object(w.jsx)(u.b,{to:"/products",className:"nav-dropdown",children:"All Products"})}),Object(w.jsx)(G.a.Item,{children:Object(w.jsx)(u.b,{to:{pathname:"/products",vegProducts:"category=Vegetarian"},className:"nav-dropdown",children:"Vegetarian"})}),Object(w.jsx)(G.a.Item,{children:Object(w.jsx)(u.b,{to:{pathname:"/products",nonVegProducts:"category=Non-Vegetarian"},className:"nav-dropdown",children:"Non-Vegetarian"})})]}),Object(w.jsx)(M.a,{children:Object(w.jsxs)(u.b,{to:"/cart",className:"nav-link",children:[Object(w.jsx)(F.a,{className:"icon-format"}),"Cart"]})}),"Success"===t&&Object(w.jsx)(M.a,{children:Object(w.jsx)(u.b,{to:"/",onClick:n,className:"nav-link",children:"Logout"})})]})})]})})})})),z=r(143),q=D.a.img(a||(a=Object(k.a)(["\n  width: 100%;\n  height: 40rem;\n  @media screen and (max-width: 700px) {\n    height: 20rem;\n  }\n"]))),J=function(e){var t=e.carouselProducts;return Object(w.jsx)(z.a,{children:t.map((function(e){return Object(w.jsxs)(z.a.Item,{children:[Object(w.jsx)(u.b,{to:"/products/".concat(e._id),children:Object(w.jsx)(q,{src:e.image,alt:e.name})}),Object(w.jsxs)(z.a.Caption,{children:[Object(w.jsx)("h3",{children:e.title}),Object(w.jsx)("p",{children:e.summary})]})]},e._id)}))})},K=r(146),Q=r(87),X=r(89),Y=(r(128),function(e){var t=e.cardImage,r=e.title,n=e.stock,a=e.category,c=e.currentPrice,s=e.discount,o=e.originalPrice,i=e.summary,u=e.btnText,l=e.viewProduct;return Object(w.jsxs)(K.a,{className:"mb-5",style:{width:"22rem"},children:[Object(w.jsx)(X.LazyLoadImage,{alt:r,src:t,effect:"blur",width:"100%"}),Object(w.jsxs)(K.a.Body,{children:[Object(w.jsxs)(K.a.Title,{children:[r,n<=5?Object(w.jsxs)("div",{className:"card-tags few-stock-left",children:[" Only ",n," left "]}):Object(w.jsx)("div",{className:"card-tags in-stock",children:" In Stock "}),"Vegetarian"===a?Object(w.jsx)(V.a,{className:"ml-3 veg"}):Object(w.jsx)(V.a,{className:"ml-3 non-veg"})]}),Object(w.jsx)(K.a.Title,{children:s?Object(w.jsxs)("div",{className:"card-tags sale",children:[Object(w.jsxs)("span",{className:"old-price mr-1",children:["\u20b9",o]})," \u20b9",c," "]}):Object(w.jsxs)("div",{className:"card-tags sale",children:[" \u20b9",c," "]})}),Object(w.jsx)(K.a.Text,{children:i}),Object(w.jsx)(Q.a,{variant:"warning",size:"lg",block:!0,onClick:l,children:u})]})]})}),Z=r(90),$=function(e){var t=e.animation;return Object(w.jsx)("div",{className:"text-center",children:Object(w.jsx)(Z.a,{animation:t,variant:"dark"})})},ee=function(e){var t=e.disableButton,r=e.buttonText,n=e.buttonColor,a=e.buttonSize,c=e.blockLength,s=e.clickMe;return Object(w.jsx)(Q.a,{disabled:t,variant:n,size:a,block:c,onClick:s,children:r})},te=r(137),re=r(91),ne=r.p+"static/media/online_grocerries.7826168b.png",ae=r(92),ce=Object(l.b)((function(e){return{products:e.mainContainerReducer.products,status:e.mainContainerReducer.status,spinner:e.mainContainerReducer.spinner,productsError:e.mainContainerReducer.productsError}}),(function(e){return{hotSellingProducts:function(){return e(function(){var e=Object(S.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/v1/mern-shopping-cart/products/hot-selling-products");case 3:return r=e.sent,n=r.data,e.abrupt("return",t({type:b.HOT_SELLING_PRODUCTS,payload:{products:n.data.results,status:n.status}}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t({type:b.HOT_SELLING_PRODUCTS_ERROR,payload:{message:"It seems the internet connection is weak. Try refreshing the page."}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.hotSellingProducts,r=e.products,n=e.spinner;Object(c.useEffect)((function(){Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))()}),[]);var a=Object(E.g)();return Object(w.jsxs)("div",{className:"my-container",children:[Object(w.jsx)("div",{children:r&&Object(w.jsx)(J,{carouselProducts:r})}),Object(w.jsxs)(te.a,{noGutters:!0,children:[Object(w.jsx)(re.a,{lg:6,className:"d-flex justify-content-center",children:Object(w.jsx)("img",{className:"w-75",src:ne,alt:"Online Grocerries"})}),Object(w.jsxs)(re.a,{lg:6,className:"d-flex flex-column justify-content-center align-items-center mb-15",children:[Object(w.jsx)("h1",{className:"heading-font-size mb-2",children:"Shop Now!"}),Object(w.jsxs)("h2",{className:"secondary-heading-font-size mb-3",children:["Summer Cooler Sale on ",Object(w.jsx)(ae.a,{})]}),Object(w.jsx)(u.b,{to:"/sale",children:Object(w.jsx)(ee,{buttonText:"View Sale Items",buttonColor:"warning",buttonSize:"lg"})})]})]}),Object(w.jsx)(te.a,{noGutters:!0,className:"d-flex justify-content-center",children:Object(w.jsx)("h4",{className:"secondary-heading-font-size mt-5 mb-5",children:"HOT-SELLERS! \ud83d\udd25"})}),n?Object(w.jsx)($,{animation:"border"}):Object(w.jsx)(te.a,{noGutters:!0,children:r&&r.map((function(e){return Object(w.jsx)(re.a,{lg:4,md:6,className:"d-flex flex-row justify-content-center",children:Object(w.jsx)(Y,{cardImage:e.image,title:e.title,stock:e.stock,category:e.category,currentPrice:e.currentPrice,discount:e.discount,originalPrice:e.originalPrice,summary:e.summary,btnText:"View",viewProduct:function(){return a.push("/products/".concat(e._id))}})},e._id)}))})]})})),se=Object(l.b)((function(e){return{discountProducts:e.mainContainerReducer.discountProducts,spinner:e.mainContainerReducer.spinner}}),(function(e){return{discountItems:function(){return e(function(){var e=Object(S.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/v1/mern-shopping-cart/products/discountProducts");case 3:return r=e.sent,n=r.data,e.abrupt("return",t({type:b.DISCOUNT_ITEMS,payload:{data:n.data.results,status:n.status}}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",t({type:b.DISCOUNT_ITEMS_ERROR,payload:{message:"It seems the internet connection is weak. Try refreshing the page."}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.discountItems,r=e.discountProducts,n=e.spinner;Object(c.useEffect)((function(){Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})))()}),[]);var a=Object(E.g)();return Object(w.jsxs)("div",{className:"my-container",children:[Object(w.jsx)("h1",{className:"heading-font-size text-center mb-3",children:"SUMMER SALE \ud83e\udd11"}),n?Object(w.jsx)($,{animation:"border"}):Object(w.jsx)(te.a,{noGutters:!0,children:r&&r.map((function(e){return Object(w.jsx)(re.a,{lg:4,md:6,className:"d-flex flex-row justify-content-center",children:Object(w.jsx)(Y,{cardImage:e.image,title:e.title,stock:e.stock,category:e.category,currentPrice:e.currentPrice,discount:e.discount,originalPrice:e.originalPrice,summary:e.summary,btnText:"View",viewProduct:function(){return a.push("/products/".concat(e._id))}})},e._id)}))})]})})),oe=r(34),ie=function(e,t,r,n,a,c){return function(s){return s({type:x.CART,payload:{productId:e,title:t,summary:r,stock:n,currentPrice:a,image:c}})}},ue=r(142),le=function(e){var t=e.defaultChoice,r=e.choiceOne,n=e.choiceTwo,a=e.valueOne,c=e.valueTwo,s=e.changeFilter;return Object(w.jsxs)(ue.a.Control,{as:"select",className:"bg-light mb-4",onChange:s,children:[Object(w.jsx)("option",{children:t}),Object(w.jsx)("option",{value:a,children:r}),Object(w.jsx)("option",{value:c,children:n})]})},de=Object(l.b)((function(e){return{allProducts:e.productsReducer.allProducts,status:e.productsReducer.status,spinner:e.productsReducer.spinner}}),(function(e){return{getAllProducts:function(t){return e(function(e){return function(){var t=Object(S.a)(C.a.mark((function t(r){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("/api/v1/mern-shopping-cart/products?".concat(e));case 3:return n=t.sent,a=n.data,t.abrupt("return",r({type:x.ALL_PRODUCTS,payload:{data:a.data.results,status:a.status}}));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",r({type:x.ALL_PRODUCTS_ERROR,payload:{message:"It seems the internet connection is weak. Try refreshing the page."}}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getAllProducts,r=e.allProducts,n=e.spinner,a=e.location,s=a.vegProducts,o=a.nonVegProducts;Object(c.useEffect)((function(){Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,t(s);case 3:e.next=12;break;case 5:if(!o){e.next=10;break}return e.next=8,t(o);case 8:e.next=12;break;case 10:return e.next=12,t();case 12:case"end":return e.stop()}}),e)})))()}),[s||o]);var i=Object(E.g)(),u=Object(c.useState)({price:"",category:""}),l=Object(oe.a)(u,2),d=l[0],j=l[1],b=d.price,O=d.category;return Object(w.jsxs)("div",{className:"my-container",children:[Object(w.jsx)("h1",{className:"heading-font-size text-center mb-3",children:"All Products \ud83d\ude80"}),Object(w.jsx)(te.a,{noGutters:!0,className:"d-flex flex-column align-items-center justify-content-evenly mb-3 mt-3 pt-4 pb-4",children:Object(w.jsxs)("div",{className:"bg-dark p-5",children:[Object(w.jsx)("h3",{style:{color:"#ffc107"},children:"Filter Products"}),Object(w.jsx)(le,{defaultChoice:"Filter by Price",choiceOne:"Low to high",choiceTwo:"High to Low",valueOne:"currentPrice",valueTwo:"-currentPrice",changeFilter:function(e){j((function(t){return Object(h.a)(Object(h.a)({},t),{},{price:"Filter by Price"===e.target.value?"":e.target.value})}))}}),s||o?null:Object(w.jsx)(le,{defaultChoice:"Filter by Category",choiceOne:"Vegetarian",choiceTwo:"Non-Vegetarian",valueOne:"Vegetarian",valueTwo:"Non-Vegetarian",changeFilter:function(e){j((function(t){return Object(h.a)(Object(h.a)({},t),{},{category:"Filter by Category"===e.target.value?"":e.target.value})}))}}),Object(w.jsx)(ee,{buttonText:"Apply",buttonColor:"warning",blockLength:!0,clickMe:function(){var e;return e=s?"sort=".concat(b,"&").concat(s):o?"sort=".concat(b,"&").concat(o):"sort=".concat(b,"&category=").concat(O),t(e)}})]})}),n?Object(w.jsx)($,{animation:"border"}):Object(w.jsx)(te.a,{noGutters:!0,children:r&&r.map((function(e){return Object(w.jsx)(re.a,{lg:4,md:6,className:"d-flex flex-row justify-content-center",children:Object(w.jsx)(Y,{cardImage:e.image,title:e.title,stock:e.stock,category:e.category,currentPrice:e.currentPrice,discount:e.discount,originalPrice:e.originalPrice,summary:e.summary,btnText:"View",viewProduct:function(){return i.push("/products/".concat(e._id))}})},e._id)}))})]})})),je=r(139),be=r(94),Oe=r.n(be),pe=Object(l.b)((function(e){return{newRating:e.productsReducer.rating}}),(function(e){return{setNewRating:function(t){return e({type:x.NEW_RATING,newRating:t})}}}))((function(e){var t=e.setNewRating,r=e.newRating,n=e.productRating,a=e.check;return Object(w.jsx)(Oe.a,{rating:n||r,changeRating:1===a&&function(e){return t(e)},starRatedColor:"gold",starHoverColor:"gold",starDimension:"20px",starSpacing:"2px",numberOfStars:5,name:"rating"})})),me=r(138),he=r(93),xe=Object(l.b)((function(e){return{userData:e.authReducer.userData,newRating:e.productsReducer.rating,status:e.productsReducer.status}}),(function(e){return{postReview:function(t){return e(function(e){return function(){var t=Object(S.a)(C.a.mark((function t(r){var n,a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("/api/v1/mern-shopping-cart/reviews/createReview",e);case 3:return n=t.sent,a=n.data,t.abrupt("return",r({type:x.SUBMIT_REVIEW,payload:{data:a.data.results,status:a.status}}));case 8:return t.prev=8,t.t0=t.catch(0),c=t.t0.response.data,t.abrupt("return",r({type:x.SUBMIT_REVIEW_ERROR,payload:{message:c.message,status:c.status}}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.postReview,r=e.userData,n=e.newRating,a=Object(E.h)().productId,s=Object(c.useState)(""),o=Object(oe.a)(s,2),i=o[0],u=o[1],l={user:r&&r._id,product:a,rating:n,review:i},d=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(l);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Write a product review"}),void 0===l.user?"Please log in to review":Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(pe,{check:1}),Object(w.jsxs)(me.a,{className:"mt-3",children:[Object(w.jsx)(he.a,{rows:4,as:"textarea","aria-label":"With textarea",onChange:function(e){return u(e.target.value)}}),Object(w.jsx)(me.a.Prepend,{children:Object(w.jsx)(ee,{disableButton:!l.rating||!l.review,buttonText:"Submit",buttonColor:"warning",clickMe:d})})]})]})]})})),fe=Object(l.b)((function(e){return{product:e.productsReducer.oneProduct,spinner:e.productsReducer.spinner,productError:e.productsReducer.oneProductError,status:e.productsReducer.status,allReviews:e.productsReducer.allReviews}}),(function(e){return{getProduct:function(t){return e(function(e){return function(){var t=Object(S.a)(C.a.mark((function t(r){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("/api/v1/mern-shopping-cart/products/".concat(e));case 3:return n=t.sent,a=n.data,t.abrupt("return",r({type:x.ONE_PRODUCT,payload:{data:a.data.results,status:a.status}}));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",r({type:x.ONE_PRODUCT_ERROR,payload:{message:"It seems the internet connection is weak. Try refreshing the page."}}));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},getAllReviews:function(){return e(function(){var e=Object(S.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/v1/mern-shopping-cart/reviews");case 2:return r=e.sent,n=r.data,e.abrupt("return",t({type:x.ALL_REVIEWS,payload:{reviews:n.data.results,status:n.status}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addToCart:function(){return e(ie.apply(void 0,arguments))}}}))((function(e){var t=e.getProduct,r=e.getAllReviews,n=e.addToCart,a=e.product,s=e.spinner,o=e.allReviews;Object(c.useEffect)((function(){Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(i);case 2:return e.next=4,r();case 4:case"end":return e.stop()}}),e)})))()}),[]);var i=Object(E.h)().productId,u=Object(E.g)(),l=o&&o.filter((function(e){return e.product===i})),d=a||{},j=d.image,b=d.title,O=d.summary,p=d.stock,m=d.discount,h=d.originalPrice,x=d.currentPrice,f=d.description,g=d.ratings;return Object(w.jsx)(w.Fragment,{children:s?Object(w.jsx)($,{animation:"border"}):a&&Object(w.jsxs)(je.a,{children:[Object(w.jsxs)(te.a,{className:"mt-4",children:[Object(w.jsx)(re.a,{lg:6,children:Object(w.jsx)("img",{className:"w-100 mb-4",src:j,alt:b})}),Object(w.jsxs)(re.a,{lg:6,className:"d-flex flex-column",children:[Object(w.jsxs)("h2",{className:"mb-3",children:[b," | ",O]}),p<=5?Object(w.jsxs)("h3",{className:"mb-3",style:{color:"var(--main-red-color)"},children:["Only ",p," left \ud83d\ude2c"]}):Object(w.jsx)("h3",{className:"mb-3 in-stock",children:"In Stock \ud83d\udd25"}),m?Object(w.jsxs)("h4",{className:"mb-3",children:[Object(w.jsxs)("span",{className:"old-price",children:[" \u20b9",h]})," now \u20b9",x]}):Object(w.jsxs)("h4",{className:"mb-3",children:["\u20b9",x]}),Object(w.jsx)("h6",{className:"mb-3",children:f}),Object(w.jsxs)("div",{className:"d-flex flex-row mb-4",children:[Object(w.jsx)(pe,{productRating:g,check:2}),Object(w.jsx)("h6",{className:"ml-3 mt-2",children:g})]}),Object(w.jsx)(ee,{buttonText:"Add to Cart",buttonColor:"dark",clickMe:function(){n(i,b,O,p,x,j),u.push("/cart")}})]})]}),Object(w.jsx)(te.a,{className:"mt-4",children:Object(w.jsx)(re.a,{children:Object(w.jsx)(xe,{})})}),Object(w.jsx)(te.a,{className:"mt-4",children:Object(w.jsxs)(re.a,{children:[Object(w.jsx)("h3",{className:"text-center",children:"Reviews"}),l&&l.map((function(e){return Object(w.jsxs)("div",{className:"all-reviews",children:[Object(w.jsx)("h4",{className:"mt-4",children:e.user.name}),Object(w.jsxs)("p",{className:"mb-1",children:["Reviewed on ",e.createdAt.slice(0,10)]}),Object(w.jsx)("p",{children:e.review})]},e._id)}))]})})]})})})),ge=r(141),ve=Object(l.b)((function(e){return{modalOpen:e.authReducer.modalOpen}}),(function(e){return{closeModal:function(){return e({type:v.CLOSE_MODAL})}}}))((function(e){var t=e.closeModal,r=e.modalOpen,n=e.title,a=e.errorMessage;return Object(w.jsxs)(ge.a,{show:r,onHide:t,children:[Object(w.jsx)(ge.a.Header,{closeButton:!0,children:Object(w.jsx)(ge.a.Title,{children:n})}),Object(w.jsx)(ge.a.Body,{children:Object(w.jsx)("p",{children:a})}),Object(w.jsx)(ge.a.Footer,{children:Object(w.jsx)(Q.a,{variant:"secondary",onClick:t,children:"Close"})})]})})),Re=Object(l.b)((function(e){return{loader:e.authReducer.loader,status:e.authReducer.status,loginError:e.authReducer.loginError,modalOpen:e.authReducer.modalOpen,modalClose:e.authReducer.modalClose}}),(function(e){return{loginUser:function(t){return e((r=t,function(){var e=Object(S.a)(C.a.mark((function e(t){var n,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("/api/v1/mern-shopping-cart/users/login",r);case 3:return n=e.sent,a=n.data,e.abrupt("return",t({type:v.LOGIN,userData:a.data.results,status:a.status}));case 8:return e.prev=8,e.t0=e.catch(0),c=e.t0.response.data,e.abrupt("return",t({type:v.LOGIN_ERROR,payload:{message:c.message,status:c.status}}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var r},openModal:function(){return e({type:v.SHOW_MODAL})},bringLoader:function(){return e({type:v.LOADER})}}}))((function(e){var t=e.bringLoader,r=e.loginUser,n=e.openModal,a=e.status,s=e.loader,o=e.loginError,i=e.modalOpen,u=e.modalClose,l=Object(c.useState)({email:"",password:""}),d=Object(oe.a)(l,2),j=d[0],b=d[1],O=Object(E.g)();Object(c.useEffect)((function(){n()}),[i||u]),Object(c.useEffect)((function(){"Success"===a&&O.push("/")}),[a]);var p=function(){var e=Object(S.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,r(j);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"my-container",children:[Object(w.jsx)(te.a,{noGutters:!0,className:"mt-5",children:Object(w.jsx)(re.a,{children:Object(w.jsx)("h1",{className:"text-center",children:"Login"})})}),Object(w.jsx)(te.a,{className:"justify-content-center mt-4",children:Object(w.jsx)(re.a,{xs:6,lg:6,children:Object(w.jsxs)(ue.a.Group,{controlId:"ControlInput1",children:[Object(w.jsx)(ue.a.Label,{children:"Email address"}),Object(w.jsx)(ue.a.Control,{onChange:function(e){b((function(t){return Object(h.a)(Object(h.a)({},t),{},{email:e.target.value})}))},type:"email",placeholder:"name@example.com"})]})})}),Object(w.jsx)(te.a,{className:"justify-content-center mt-2",children:Object(w.jsx)(re.a,{xs:6,lg:6,children:Object(w.jsxs)(ue.a.Group,{controlId:"ControlInput2",children:[Object(w.jsx)(ue.a.Label,{children:"Password"}),Object(w.jsx)(ue.a.Control,{onChange:function(e){b((function(t){return Object(h.a)(Object(h.a)({},t),{},{password:e.target.value})}))},type:"password",placeholder:"Password"})]})})}),Object(w.jsx)(te.a,{className:"justify-content-center text-center mt-4",children:Object(w.jsx)(re.a,{xs:6,lg:6,children:Object(w.jsx)(ee,{buttonText:!0===s?"Loading...":"Login",buttonColor:"warning",clickMe:p})})}),"Fail"===a&&Object(w.jsx)(ve,{title:a,errorMessage:o})]})})})),ye=function(){return Object(w.jsx)(w.Fragment,{children:"Profile Page"})},Ee=Object(l.b)((function(e){return{cart:e.productsReducer.cart}}),(function(e){return{deleteItem:function(t,r){return e(function(e,t){return function(r){return r({type:x.DELETE_ITEM_FROM_CART,payload:{productId:e,items:t}})}}(t,r))}}}))((function(e){var t=e.deleteItem,r=e.cart,n=Object(c.useState)([]),a=Object(oe.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)(0),u=Object(oe.a)(i,2),l=u[0],d=u[1];Object(c.useEffect)((function(){!function(e){var t=e.reduce((function(e,t){return e+t.currentPrice}),0);d(t)}(function(){var e=Array.from(r.reduce((function(e,t){return e.set(t.productId,t)}),new Map).values());return o(e),e}())}),[]);return Object(w.jsxs)("div",{className:"my-container",children:[Object(w.jsx)("h1",{className:"mt-2",children:"Shopping Cart"}),Object(w.jsxs)(te.a,{noGutters:!0,children:[Object(w.jsx)(re.a,{lg:8,children:s.map((function(e,r,n){return Object(w.jsx)(te.a,{className:"mt-4 mb-4",children:Object(w.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(w.jsx)("img",{className:"w-25",src:e.image,alt:"product_image"}),Object(w.jsxs)("div",{className:"flex-column",children:[Object(w.jsx)("h4",{children:e.title}),Object(w.jsx)("select",{onChange:function(t){return function(e,t,r){var n=0,a=e.target.value*t;document.getElementById("".concat(r)).textContent="\u20b9".concat(a),document.querySelectorAll(".grab-price h5").forEach((function(e){return n+=Number(e.textContent.slice(1))})),d(n)}(t,e.currentPrice,e.productId)},className:"m-2",children:Array(e.stock).fill().map((function(t,r){return e.stock-r})).reverse().map((function(e){return Object(w.jsx)("option",{children:e},e)}))}),Object(w.jsx)("button",{onClick:function(){return function(e){var r=0,n=s.slice();n.splice(e,1),t(e,n),o(n),document.querySelectorAll(".grab-price h5").forEach((function(t,n){n===e&&(t.textContent=0),r+=Number(t.textContent.slice(1))})),d(r)}(r)},children:"Delete"})]}),Object(w.jsx)("div",{className:"grab-price",children:Object(w.jsxs)("h5",{id:e.productId,children:["\u20b9",e.currentPrice]})})]})},e.productId)}))}),Object(w.jsx)(re.a,{className:"d-flex align-items-center flex-column",lg:4,children:Object(w.jsxs)("div",{className:"d-flex align-items-center flex-column",children:[Object(w.jsx)("h4",{children:"Subtotal (".concat(s.length," items): \u20b9").concat(l)}),Object(w.jsx)("button",{children:"Proceed to checkout"})]})})]})]})})),Ne=Object(l.b)(null,(function(e){return{loggedInUser:function(){return e(function(){var e=Object(S.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/api/v1/mern-shopping-cart/users/getLoggedUser");case 3:return r=e.sent,n=r.data,e.abrupt("return",t({type:v.LOGGED_IN_USER,userData:n.data.results,status:n.status}));case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.loggedInUser;return Object(c.useEffect)((function(){t()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(B,{}),Object(w.jsxs)(E.d,{children:[Object(w.jsx)(E.b,{path:"/login",component:Re}),Object(w.jsx)(I,{path:"/my-profile",component:ye}),Object(w.jsx)(E.b,{path:"/sale",component:se}),Object(w.jsx)(E.b,{path:"/cart",component:Ee}),Object(w.jsx)(E.b,{path:"/products/:productId",component:fe}),Object(w.jsx)(E.b,{path:"/products",component:de}),Object(w.jsx)(E.b,{exact:!0,path:"/",component:ce}),Object(w.jsx)(E.b,{render:function(){return Object(w.jsx)("h1",{children:"Page not found."})}})]})]})})),we=Object(d.b)({mainContainerReducer:p,productsReducer:g,authReducer:y}),_e=Object(d.c)(we,Object(d.a)(j.a));i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(l.a,{store:_e,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(Ne,{})})})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.0bd0d10b.chunk.js.map